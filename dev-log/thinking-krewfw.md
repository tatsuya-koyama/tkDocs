---
title: 'krewFramework を作るときに考えたこと'
date: '2013-12-03'
description:
categories: []
tags: [krewFramework]
---

# krewFramework を作るときに考えたこと

## krewFramework って何

クルー・フレームワークと読みます。

- [俺](http://www.tatsuya-koyama.com/4.0/html/tkinfo/profile.html)
  による俺のための俺俺ゲームフレームワーク
- ゲームつくるときまあ大体みんなこういうことやるよね、といった処理のフレームワークを
  Adobe AIR + Starling というアーキテクチャの上にのっけたもの
- 似たソリューションはあるけど、自分の勉強のために自作して、自分で使う
    - 公開する前提で作ることで品質を高める

### 類似のソリューション

- [Cytrus game engine](http://citrusengine.com/)
    - 同じレイヤーで、たぶん一番有名
    - Starling と Away3D と各種 Physics を包括的に扱う感じで、
      やりたいこと先にやられてる感あるけど参考にしつつ自分は自分のスタイルで組む

### ToDo

- [ToDo] 安定してきたらリポジトリを公開する


## 名前について

- 名前は大事
    - 命名センスもプログラマに求められる能力のひとつ
- krew は英単語の crew から：

>【名】  
>  
>    1. 〔船のすべての〕乗組員、クルー
>    1. 〔船のすべての〕下級船員◆船長、航海士、士官などを除く乗組員。
>    1. 〔飛行機や宇宙船のすべての〕搭乗員、クルー
>    1. 〔一緒に仕事をする〕組、班、グループ
>    1. 〈話〉〔一緒に過ごす〕仲間、一団
>    1. 〔競漕艇の〕クルー
>    1. 〔競技の〕競漕

- 映画の撮影クルーとか、仕事の構成メンバーとか、そういう意味合いからチョイス。

もともと僕は、ビデオゲームを動かす各モジュールは、映像作品や演劇の舞台を作るメンバーになぞらえると
うまくハマるのではないかと考えていた。（昔演劇やってたのも影響してる）

- 役者（Actor 指向における Actor そのもの）
    - 舞台（シーン, ゲーム画面）
    - 舞台の上に Actor を上げる
- カメラマンが舞台の View を切り取る
- あと照明さんとか、音響さんとか
- 全体の流れを指揮するディレクターがいる

---

実際には、プレイヤーからの干渉がある部分や、人と物（Agent と Object）みたいにしなくても
十分すっきり実現できることから、あんまり映像・演劇の構成員に沿った形にはならなかったが、
響きもよいのでこの名前を残した。

crew の c を k に変えて krew にしたのは以下の理由からだ：

- crew はタイプしにくい。krew は結構タイプしやすい
    - rew の部分が小気味よい
- 検索性が高い。"krew Framework" でググってもそれらしいものはない


## フレームワークがすべきこと

- やり方を制限・規定する
- 規定した分だけ、楽に・安全にする


## 設計の手法、方法論

- Actor 指向
    - オブジェクト指向でイベント駆動
- 依存性の注入（Dependency Injection）
- Component 指向、プラガブル
- 設定より規約（Convention over Configuration）
- DRY 原則


## クラス名の命名とパッケージ分け

- ToDo

<br/><br/><br/><br/><br/><br/><br/><br/>

